/**
 * @file
 * AI Simplify Dialog styles.
 *
 * Story 3.6: Readability Simplification
 *
 * Styles for the before/after comparison dialog.
 * Uses GOV.UK Design System colours.
 */

/* Dialog wrapper */
.ai-simplify-dialog {
  padding: 16px;
}

/* Comparison container - side by side on desktop */
.ai-comparison-container {
  display: flex;
  gap: 24px;
  margin-bottom: 24px;
}

/* Comparison panels */
.ai-comparison-panel {
  flex: 1;
  min-width: 0;
}

/* Panel labels */
.ai-comparison-label {
  font-size: 19px;
  font-weight: 700;
  line-height: 1.3;
  margin: 0 0 8px 0;
  color: #0b0c0c; /* GOV.UK black */
}

/* Original panel styling */
.ai-comparison-original .ai-comparison-label {
  color: #505a5f; /* GOV.UK secondary text */
}

/* Original text (read-only) */
.ai-original-text {
  background-color: #f3f2f1 !important; /* GOV.UK light grey */
  border: 2px solid #b1b4b6 !important; /* GOV.UK mid grey */
  color: #505a5f !important; /* GOV.UK secondary text */
  font-family: inherit;
  font-size: 16px;
  line-height: 1.5;
  padding: 12px;
  width: 100%;
  box-sizing: border-box;
  resize: vertical;
  min-height: 200px;
}

/* Simplified text (editable) */
.ai-simplified-text {
  background-color: #ffffff;
  border: 2px solid #0b0c0c !important; /* GOV.UK black */
  color: #0b0c0c;
  font-family: inherit;
  font-size: 16px;
  line-height: 1.5;
  padding: 12px;
  width: 100%;
  box-sizing: border-box;
  resize: vertical;
  min-height: 200px;
}

.ai-simplified-text:focus {
  outline: 3px solid #ffdd00; /* GOV.UK focus colour */
  outline-offset: 0;
  box-shadow: inset 0 0 0 2px;
}

/* Simplified panel - highlight when content is ready */
.ai-comparison-simplified .ai-simplified-text:not([disabled]) {
  border-color: #00703c; /* GOV.UK green */
}

/* Loading state for simplified panel */
.ai-comparison-simplified .ai-loading-state {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  background-color: #f3f2f1;
  border: 2px solid #b1b4b6;
}

/* Error message styling */
.ai-error-message {
  background-color: #f6d7d2;
  border-left: 4px solid #d4351c;
  padding: 16px;
  margin-bottom: 16px;
  color: #0b0c0c;
}

/* Hidden state */
.ai-hidden {
  display: none !important;
}

/* Loading spinner within simplify dialog */
.ai-simplify-dialog .ai-loading-state {
  padding: 24px;
  text-align: center;
  background-color: #f3f2f1;
  border: 2px solid #b1b4b6;
  margin-bottom: 16px;
}

.ai-simplify-dialog .ai-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #b1b4b6;
  border-top-color: #1d70b8;
  border-radius: 50%;
  animation: ai-spin 0.8s linear infinite;
  margin: 0 auto 12px auto;
}

.ai-simplify-dialog .ai-loading-message {
  display: block;
  color: #0b0c0c;
  font-size: 16px;
}

@keyframes ai-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Error state */
.ai-simplify-dialog .ai-error-state {
  margin-bottom: 16px;
}

/* Action buttons */
.ai-simplify-dialog .form-actions {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  flex-wrap: wrap;
}

/* Regenerate button on left */
.ai-simplify-dialog #ai-regenerate-button {
  margin-right: auto;
}

/* Responsive: stack panels on narrow screens */
@media (max-width: 767px) {
  .ai-comparison-container {
    flex-direction: column;
  }

  .ai-comparison-panel {
    width: 100%;
  }

  .ai-simplify-dialog .form-actions {
    flex-direction: column;
  }

  .ai-simplify-dialog #ai-regenerate-button {
    margin-right: 0;
    order: 3;
  }

  .ai-simplify-dialog #ai-simplify-apply-button {
    order: 1;
  }

  .ai-simplify-dialog [data-action="cancel"] {
    order: 2;
  }
}

/* High contrast mode support */
@media (forced-colors: active) {
  .ai-comparison-original .ai-original-text {
    border: 2px solid CanvasText;
  }

  .ai-simplified-text:focus {
    outline: 3px solid Highlight;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ai-simplify-dialog .ai-spinner {
    animation: none;
    border-top-color: #1d70b8;
  }
}
