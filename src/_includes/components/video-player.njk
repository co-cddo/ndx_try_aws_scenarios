{#
  Video Player Component (Story 2.4)

  Responsive YouTube embed with accessibility features.

  Parameters:
    youtubeId: string - YouTube video ID
    title: string - Video title for accessibility
    scenarioName: string - Scenario name for context

  Features (AC-2.4.2, AC-2.4.7):
    - 16:9 responsive aspect ratio
    - Lazy loading for performance
    - Keyboard navigable (YouTube player handles this)
    - Screen reader compatible
    - No autoplay
    - Fallback link for no-JavaScript users
#}

{% if youtubeId %}
<div class="ndx-video-player">
  {# Responsive container with 16:9 aspect ratio #}
  <div class="ndx-video-player__container">
    {# YouTube iframe embed with privacy-enhanced mode #}
    <iframe
      class="ndx-video-player__iframe"
      src="https://www.youtube-nocookie.com/embed/{{ youtubeId }}?rel=0&cc_load_policy=1"
      title="{{ title | default('Demo video for ' + scenarioName) }}"
      loading="lazy"
      allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
      referrerpolicy="strict-origin-when-cross-origin"
      aria-label="Demo video: {{ title | default(scenarioName + ' scenario walkthrough') }}"
    ></iframe>
  </div>

  {# No-JavaScript fallback #}
  <noscript>
    <p class="govuk-body">
      <a href="https://www.youtube.com/watch?v={{ youtubeId }}"
         class="govuk-link"
         target="_blank"
         rel="noopener noreferrer">
        Watch the demo video on YouTube<span class="govuk-visually-hidden"> (opens in new tab)</span>
      </a>
    </p>
  </noscript>
</div>
{% endif %}
