{#
  Fallback Banner Component (Story 6.3 - FR83)

  Shown when the deployed stack has expired
  Provides static screenshots as fallback

  Usage:
    {% include "components/exploration/fallback-banner.njk" %}

  Expects:
    stackExpired: boolean
    scenarioId: string
#}

{% if stackExpired %}
<div class="ndx-fallback-banner" role="alert">
  <div class="govuk-warning-text">
    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
    <strong class="govuk-warning-text__text">
      <span class="govuk-visually-hidden">Warning</span>
      Your demo deployment has expired
    </strong>
  </div>

  <div class="ndx-fallback-banner__content">
    <p class="govuk-body">
      The 90-minute demo window has ended. You can still explore using our reference screenshots below,
      or <a href="/scenarios/{{ scenarioId }}/" class="govuk-link">redeploy the scenario</a> for hands-on access.
    </p>

    <details class="govuk-details" data-module="govuk-details">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text">
          Why did my deployment expire?
        </span>
      </summary>
      <div class="govuk-details__text">
        <p>To keep costs minimal and the Innovation Sandbox tidy, all demo deployments automatically clean up after 90 minutes.</p>
        <p>This is intentional - it ensures you're never charged for forgotten resources and keeps the sandbox available for others.</p>
        <p><a href="/scenarios/{{ scenarioId }}/" class="govuk-link">Deploy again</a> to get another 90-minute window.</p>
      </div>
    </details>
  </div>
</div>
{% endif %}

<style>
  .ndx-fallback-banner {
    background: #fff7e6;
    border: 1px solid #ffbf47;
    border-left: 4px solid #ffbf47;
    padding: 20px;
    margin-bottom: 30px;
  }

  .ndx-fallback-banner .govuk-warning-text {
    margin-bottom: 15px;
  }

  .ndx-fallback-banner__content {
    margin-left: 55px;
  }

  @media (max-width: 640px) {
    .ndx-fallback-banner__content {
      margin-left: 0;
    }
  }
</style>
